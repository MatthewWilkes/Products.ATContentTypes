<html xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    metal:use-macro="container/main_template/macros/master">

<body>
<div metal:fill-slot="main">

    <!-- When the catalog based folder listing with extra macros becomes part of plone 2.1,
         this is all we'll need, until then everything below is necessary.

        <tal:subtopics define="full_view python:False;
                               view_title string:Sub-topics:">
            <metal:list metal:use-macro="here/folder_contents/macros/contents"/>
        </tal:subtopics>
    -->
    <form name="folderContentsForm"
          method="post"
          action="folder_object"
          tal:attributes="action here_url"
          tal:define="contents python: here.listSubtopics();
                      contentTypes here/getAllowedTypes;
                      num_types python: len(contentTypes);
                      standalone python:1">
        <h2>Sub-topics</h2>
        <metal:list metal:use-macro="here/folder_contents/macros/folder_listing"/>

        <tal:buttons tal:repeat="button actions/folder_buttons|nothing">
            <input class="context"
                   type="submit"
                   name=""
                   value=""
                   tabindex=""
                   tal:condition="python:contents or here.cb_dataValid and button['id'] == 'paste'"
                   i18n:attributes="value"
                   tal:attributes="value button/name;
                                   name button/url;
                                   tabindex tabindex/next;
                                   class python:test((button['id'] == 'paste'), 'standalone', 'context')"/>
        </tal:buttons>

    </form>

</div>
</body>
</html>
